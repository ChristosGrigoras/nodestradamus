---
description: Project-specific context
globs: "**/*"
alwaysApply: true
---

# OpenCode Plan Project

## Overview
- Python project with OpenCode GitHub integration
- AI-assisted development workflow

## Key Directories
- `.github/workflows/`: GitHub Actions (OpenCode integration)
- `.cursor/rules/`: Cursor AI rules

## Integrations
- **OpenCode GitHub Agent**: Comment `/opencode <task>` on issues/PRs
- **Cursor AI**: Local IDE assistant

## Conventions
- utils.py: Helper/utility functions
- Commits should be focused and descriptive

## GitHub API Access

When `gh` CLI is unavailable, extract token from git credentials:

```bash
# Get token from ~/.git-credentials
TOKEN=$(cat ~/.git-credentials | grep github.com | sed 's/.*://' | sed 's/@.*//')

# Example: Comment on an issue
curl -s -X POST \
  -H "Authorization: token $TOKEN" \
  -H "Accept: application/vnd.github.v3+json" \
  -d '{"body": "/opencode <task>"}' \
  "https://api.github.com/repos/ChristosGrigoras/opencode_plan/issues/<issue_number>/comments"

# Example: Create a new issue
curl -s -X POST \
  -H "Authorization: token $TOKEN" \
  -H "Accept: application/vnd.github.v3+json" \
  -d '{"title": "Issue title", "body": "/opencode <task>"}' \
  "https://api.github.com/repos/ChristosGrigoras/opencode_plan/issues"
```

---
*Rules are auto-updated based on codebase analysis*
