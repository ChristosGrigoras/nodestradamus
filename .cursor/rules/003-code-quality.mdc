---
description: Universal code quality standards
globs: "**/*"
alwaysApply: true
---

# Code Quality Standards

## Critical Partner Mindset

- Do not affirm statements or assume conclusions are correct
- Question assumptions, offer counterpoints, test reasoning
- Prioritize truth over agreement
- State confidence level (0-100%) for uncertain fixes

## Execution Sequence

1. **SEARCH FIRST** - Verify similar functionality exists before implementing
2. **REUSE FIRST** - Extend existing patterns before creating new
3. **NO ASSUMPTIONS** - Only use: files read, user messages, tool results
4. **CHALLENGE IDEAS** - If you see flaws/risks/better approaches, say so
5. **RULE REFRESH** - Re-read rules every few messages in long conversations

## Core Standards

- **Naming:** Descriptive, consistent, avoid abbreviations
- **Functions:** Single responsibility, <50 lines, clear parameters
- **Comments:** Explain why, not what; update with code changes
- **Error handling:** Explicit, meaningful messages, proper logging

## Code Structure

- **DRY:** Don't repeat yourself, extract common patterns
- **SOLID:** Single responsibility, dependency inversion
- **Readability:** Clear intent, consistent formatting

## Security

- **Secrets:** Never hardcode, use environment variables
- **Input validation:** Validate all external inputs
- **Env files:** Create `.env.example` with placeholders, never commit `.env`
- **Git safety:** Verify `.gitignore` excludes `.env`, `*.key`, `*.pem`, secrets

## Documentation

- **README:** Clear setup, usage, contribution guidelines
- **Keep docs current:** Update README/docs when adding features, changing APIs, or modifying setup
- **Env documentation:** Document all required env vars in README or `.env.example`
- **Code comments:** Complex logic, business rules, edge cases
